<div class="genericpluginsettingslist">
	<h3>Internal Services</h3>
	<table class="table table-striped table-hover">
		<thead>
			<tr>
				<th>Name</th>
				<th>Description</th>
				<th>State</th>
				<th>Actions</th>
			</tr>
		</thead>
		<tbody>
		</tbody>
	</table>
</div>
<script>
function GenericPluginSettingsList(main, usersettings, configuration) {
	var othis = this;

	$(".genericpluginsettingslist h3").html(configuration.listTitle);
	
	this.pluginClick = function(event) {
		event.preventDefault();
		var plugin = $(this).parents("tr").data("plugin");
		configuration.showDetailsFunction(plugin);
	};

	this.addPlugin = function(plugin) {
		var tr = $("<tr>");
		tr.data("plugin", plugin);
		var a = $("<a>" + plugin.name + "</a>");
		a.click(othis.pluginClick);
		tr.append($("<td></td>").append(a));
		tr.append("<td>" + plugin.description + "</td>");
		tr.append("<td>" + (plugin.enabled ? "Enabled" : "Disabled") + "</td>");
		tr.append("<td>" + "" + "</td>");
		$(".genericpluginsettingslist table tbody").append(tr);
	};

	this.loadPluginConfigurations = function(){
		bimServerApi.call("ServiceInterface", configuration.getAllMethodName, {onlyEnabled: false}, function(data){
			$(".genericpluginsettingslist table tbody").empty();
			data.forEach(function(plugin){
				othis.addPlugin(plugin);
			});
		});
	};
	
	this.close = function(){
	};
	othis.loadPluginConfigurations();
}
</script>