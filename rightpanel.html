<div class="rightpanel">
	<div class="panel panel-default">
		<div class="panel-heading btn-group threedviewTabs" style="padding: 0px; width: 100%" data-toggle="buttons">
			<label class="btn btn-default button2d"> <input type="radio" name="options" id="option1" autocomplete="off">2D</label>
			<label class="btn btn-default button3d active"> <input type="radio" name="options" id="option2" autocomplete="off" checked>3D</label>
			<label class="btn btn-default buttonDetails"> <input type="radio" name="options" id="option3" autocomplete="off">Details</label>
		</div>
		<div class="panel-body">
			<div class="content">
			</div>
		</div>
	</div>
</div>
<script>
function RightPanel(containerDiv, main, projectPage) {
	var o = this;
	
	o.selectListeners = [];
	o.unselectListeners = [];
	
	this.select = function(groupId, id){
		o.selectListeners.forEach(function(listener){
			listener(groupId, id);
		});
	};

	this.unselect = function(groupId, id){
		o.unselectListeners.forEach(function(listener){
			listener(groupId, id);
		});
	};
	
	containerDiv.find(".button2d").click(function(){
		containerDiv.find(".content").load("2dview.html", function(){
			new TwoDView($(this), projectPage);
		});
	});

	this.showThreeD = function(){
		containerDiv.find(".content").load("3dview.html", function(){
			var threeDView = new ThreeDView($(this), projectPage);
			threeDView.selectListeners.push(o.select);
			threeDView.unselectListeners.push(o.unselect);
		});
	};
	
	containerDiv.find(".button3d").click(function(){
		o.showThreeD();
	});
	
	o.showThreeD();

	containerDiv.find(".buttonDetails").click(function(){
		containerDiv.find(".content").load("projectdetails.html", function(){
			new ProjectDetails($(this), main, projectPage.project, projectPage).show();
		});
	});
}
</script>